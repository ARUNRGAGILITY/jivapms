<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawflow Straight Line Example</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/drawflow/dist/drawflow.min.css">
    <style>
        #drawflow {
            width: 100%;
            height: 500px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>Drawflow: Straight Line Steps</h1>
    <div id="drawflow"></div>

    <script src="https://cdn.jsdelivr.net/npm/drawflow/dist/drawflow.min.js"></script>
    <script>
        // Initialize Drawflow
        const editor = new Drawflow(document.getElementById("drawflow"));
        editor.reroute = true; // Enable reroute for better visuals
        editor.start();

        // Sample steps data
        const steps = [
            { id: 1, name: "Step 1", value: 3, delay: 48 },
            { id: 2, name: "Step 2", value: 10, delay: 44 },
            { id: 3, name: "Step 3", value: 8, delay: 88 },
            { id: 4, name: "Step 4", value: 5, delay: 20 }
        ];

        // Add nodes in a straight horizontal line
        const startX = 100; // Starting X-coordinate
        const startY = 200; // Fixed Y-coordinate
        const nodeSpacing = 300; // Horizontal spacing between nodes

        steps.forEach((step, index) => {
            const posX = startX + index * nodeSpacing; // Calculate X position
            const posY = startY; // Fixed Y position for straight line

            editor.addNode(
                `step_${step.id}`, // Node name (unique identifier)
                1,                 // Number of inputs
                1,                 // Number of outputs
                posX,              // X-coordinate
                posY,              // Y-coordinate
                "step",            // Class name for styling
                {},                // Data (empty in this case)
                `<div>
                    <strong>${step.name}</strong><br>
                    Value: ${step.value}<br>
                    Delay: ${step.delay}
                 </div>`
            );
        });

        // Wait until all nodes are added, then add connections
        setTimeout(() => {
            for (let i = 0; i < steps.length - 1; i++) {
                editor.addConnection(`step_${steps[i].id}`, `step_${steps[i + 1].id}`);
            }
        }, 100); // Small delay to ensure nodes are rendered before connections
    </script>
</body>
</html>
